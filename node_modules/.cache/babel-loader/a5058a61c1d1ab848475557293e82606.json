{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/Philip/Desktop/FlatIron/Projects/Portfolio_Planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Philip/Desktop/FlatIron/Projects/Portfolio_Planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Philip/Desktop/FlatIron/Projects/Portfolio_Planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Philip/Desktop/FlatIron/Projects/Portfolio_Planner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{v4 as uuidv4}from'uuid';import{CompanySearchComponent}from'../components/CompanySearchComponent';import CompanyCardComponent from'../components/CompanyCardComponent';import{connect}from'react-redux';import{getPortfolio}from'../redux/actionCreator';// import CounterComponent from '../components/CounterComponent';\nvar apiKey=process.env.API_KEY;var CompanySearchContainer=/*#__PURE__*/function(_Component){_inherits(CompanySearchContainer,_Component);var _super=_createSuper(CompanySearchContainer);function CompanySearchContainer(){var _this;_classCallCheck(this,CompanySearchContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={symbol:\"\",searchResultsList:[],validated:false,initialRender:true};_this.handleSearchFormChange=function(event){_this.setState({symbol:event.target.value});};_this.handleSearchFormSubmit=function(event){var form=event.currentTarget;if(form.checkValidity()===false&&_this.state.symbol===''){event.preventDefault();event.stopPropagation();}else{event.preventDefault();fetch(\"https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=\".concat(_this.state.symbol,\"&apikey=\").concat(apiKey)).then(function(res){return res.json();}).then(function(data){var companies=Object(data.bestMatches);_this.setState({searchResultsList:companies,validated:true});});}};return _this;}_createClass(CompanySearchContainer,[{key:\"renderCompanyList\",// Component Prop functionality passing result list array data to Card Component\nvalue:function renderCompanyList(){return/*#__PURE__*/_jsx(_Fragment,{children:this.state.searchResultsList.map(function(company){return/*#__PURE__*/_jsx(CompanyCardComponent,{id:uuidv4(),companySymbol:company[\"1. symbol\"],companyName:company[\"2. name\"],companyType:company[\"3. type\"],companyRegion:company[\"4. region\"],companyCurrency:company[\"8. currency\"]},uuidv4());})});}// review call apply and bind relative to non arrow functionality\n},{key:\"render\",// Company Search Form functionality by Symbol of Company.  Also, rendering of search result component.\nvalue:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CompanySearchComponent,{onSubmit:this.handleSearchFormSubmit,validated:this.state.validated,value:this.state.symbol,onChange:this.handleSearchFormChange}),/*#__PURE__*/_jsx(\"div\",{children:this.renderCompanyList()})]});}}]);return CompanySearchContainer;}(Component);export default connect(null,{getPortfolio:getPortfolio})(CompanySearchContainer);","map":{"version":3,"sources":["/Users/Philip/Desktop/FlatIron/Projects/Portfolio_Planner/src/containers/CompanySearchContainer.js"],"names":["React","Component","v4","uuidv4","CompanySearchComponent","CompanyCardComponent","connect","getPortfolio","apiKey","process","env","API_KEY","CompanySearchContainer","state","symbol","searchResultsList","validated","initialRender","handleSearchFormChange","event","setState","target","value","handleSearchFormSubmit","form","currentTarget","checkValidity","preventDefault","stopPropagation","fetch","then","res","json","data","companies","Object","bestMatches","map","company","renderCompanyList"],"mappings":"6zBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,CACA,OAASC,sBAAT,KAAuC,sCAAvC,CACA,MAAOC,CAAAA,oBAAP,KAAiC,oCAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,YAAT,KAA6B,wBAA7B,CACA;AAEA,GAAMC,CAAAA,MAAM,CAAGC,OAAO,CAACC,GAAR,CAAYC,OAA3B,C,GAEMC,CAAAA,sB,2XACFC,K,CAAQ,CACFC,MAAM,CAAE,EADN,CAEFC,iBAAiB,CAAE,EAFjB,CAGFC,SAAS,CAAE,KAHT,CAIFC,aAAa,CAAE,IAJb,C,OA2BRC,sB,CAAyB,SAAAC,KAAK,CAAI,CAC9B,MAAKC,QAAL,CAAc,CACVN,MAAM,CAAEK,KAAK,CAACE,MAAN,CAAaC,KADX,CAAd,EAGH,C,OAGDC,sB,CAAyB,SAAAJ,KAAK,CAAI,CAC9B,GAAMK,CAAAA,IAAI,CAAGL,KAAK,CAACM,aAAnB,CACA,GAAID,IAAI,CAACE,aAAL,KAAyB,KAAzB,EAAkC,MAAKb,KAAL,CAAWC,MAAX,GAAsB,EAA5D,CAAgE,CAC5DK,KAAK,CAACQ,cAAN,GACAR,KAAK,CAACS,eAAN,GAEH,CAJD,IAIO,CAEPT,KAAK,CAACQ,cAAN,GACAE,KAAK,6EAAsE,MAAKhB,KAAL,CAAWC,MAAjF,oBAAkGN,MAAlG,EAAL,CACKsB,IADL,CACU,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADV,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACV,GAAMC,CAAAA,SAAS,CAAGC,MAAM,CAACF,IAAI,CAACG,WAAN,CAAxB,CACA,MAAKhB,QAAL,CAAc,CACVL,iBAAiB,CAAEmB,SADT,CAEVlB,SAAS,CAAE,IAFD,CAAd,EAIH,CARL,EASC,CACJ,C,6EA9CD;kCACoB,CAChB,mBACI,yBACK,KAAKH,KAAL,CAAWE,iBAAX,CAA6BsB,GAA7B,CAAiC,SAACC,OAAD,qBAC9B,KAAC,oBAAD,EAEI,EAAE,CAAEnC,MAAM,EAFd,CAGI,aAAa,CAAEmC,OAAO,CAAC,WAAD,CAH1B,CAII,WAAW,CAAEA,OAAO,CAAC,SAAD,CAJxB,CAKI,WAAW,CAAEA,OAAO,CAAC,SAAD,CALxB,CAMI,aAAa,CAAEA,OAAO,CAAC,WAAD,CAN1B,CAOI,eAAe,CAAEA,OAAO,CAAC,aAAD,CAP5B,EACSnC,MAAM,EADf,CAD8B,EAAjC,CADL,EADJ,CAeH,CAED;gBA6BA;uBACS,CACL,mBACI,wCACI,KAAC,sBAAD,EACI,QAAQ,CAAE,KAAKoB,sBADnB,CAEI,SAAS,CAAE,KAAKV,KAAL,CAAWG,SAF1B,CAGI,KAAK,CAAE,KAAKH,KAAL,CAAWC,MAHtB,CAII,QAAQ,CAAE,KAAKI,sBAJnB,EADJ,cAOI,qBACK,KAAKqB,iBAAL,EADL,EAPJ,GADJ,CAcH,C,oCAxEgCtC,S,EA2ErC,cAAeK,CAAAA,OAAO,CAAC,IAAD,CAAO,CAACC,YAAY,CAAZA,YAAD,CAAP,CAAP,CAA+BK,sBAA/B,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { CompanySearchComponent } from '../components/CompanySearchComponent';\nimport CompanyCardComponent from '../components/CompanyCardComponent';\nimport { connect } from 'react-redux'\nimport { getPortfolio } from '../redux/actionCreator'\n// import CounterComponent from '../components/CounterComponent';\n\nconst apiKey = process.env.API_KEY;\n\nclass CompanySearchContainer extends Component {\n    state = {\n          symbol: \"\",\n          searchResultsList: [],\n          validated: false,\n          initialRender: true\n    }\n\n    // Component Prop functionality passing result list array data to Card Component\n    renderCompanyList() {\n        return (\n            <>\n                {this.state.searchResultsList.map((company) => (\n                    <CompanyCardComponent \n                        key={uuidv4()}\n                        id={uuidv4()}\n                        companySymbol={company[\"1. symbol\"]} \n                        companyName={company[\"2. name\"]}\n                        companyType={company[\"3. type\"]}\n                        companyRegion={company[\"4. region\"]}\n                        companyCurrency={company[\"8. currency\"]}\n                    />\n                ))}\n            </>\n        )\n    }\n\n    // review call apply and bind relative to non arrow functionality\n    handleSearchFormChange = event => {\n        this.setState({\n            symbol: event.target.value\n        })\n    }\n\n    // Submit condition which searches for a company list via submitted symbol or letter\n    handleSearchFormSubmit = event => {\n        const form = event.currentTarget;\n        if (form.checkValidity() === false && this.state.symbol === '') {\n            event.preventDefault();\n            event.stopPropagation();\n\n        } else {\n\n        event.preventDefault();\n        fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${this.state.symbol}&apikey=${apiKey}`)\n            .then((res) => res.json())\n            .then(data => {\n                const companies = Object(data.bestMatches);\n                this.setState({ \n                    searchResultsList: companies,\n                    validated: true\n                })\n            })\n        }\n    }\n\n    // Company Search Form functionality by Symbol of Company.  Also, rendering of search result component.\n    render() {\n        return (\n            <>\n                <CompanySearchComponent \n                    onSubmit={this.handleSearchFormSubmit}\n                    validated={this.state.validated}\n                    value={this.state.symbol}\n                    onChange={this.handleSearchFormChange}\n                />\n                <div>\n                    {this.renderCompanyList()}\n                </div>\n                {/* <CounterComponent /> */}\n            </>\n        );\n    };\n}\n\nexport default connect(null, {getPortfolio}) (CompanySearchContainer)"]},"metadata":{},"sourceType":"module"}