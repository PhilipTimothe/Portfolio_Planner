{"ast":null,"code":"var backendUrl='https://tranquil-escarpment-33998.herokuapp.com';export var getCompany=function getCompany(symbol){return function(dispatch){var apiKey=process.env.API_KEY;fetch(\"https://www.alphavantage.co/query?function=OVERVIEW&symbol=\".concat(symbol,\"&apikey=\").concat(apiKey)).then(function(res){return res.json();}).then(function(data){var company=Object(data);dispatch({type:\"GET_COMPANY\",payload:{company:company}});});};};export var getPortfolio=function getPortfolio(){return function(dispatch){fetch(\"\".concat(backendUrl,\"/companies\")).then(function(res){return res.json();}).then(function(data){Object(data).map(function(company){return dispatch({type:\"GET_PORTFOLIO\",payload:{company:company}});});});};};// Add companies to portfolio\nexport var setPortfolio=function setPortfolio(company){return function(dispatch){var data={id:company[\"id\"],Name:company[\"Name\"],Symbol:company[\"Symbol\"],Industry:company[\"Industry\"],Country:company[\"Country\"]};var config={method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify(data)};return fetch(\"\".concat(backendUrl,\"/companies\"),config).then(function(response){return response.json();}).then(function(data){dispatch({type:\"SET_PORTFOLIO\",payload:{data:data}});});};};export var deleteCompany=function deleteCompany(companyId){return function(dispatch){var config={method:\"DELETE\"};fetch(\"\".concat(backendUrl,\"/companies/\").concat(companyId),config);dispatch({type:\"DELETE_COMPANY\",payload:{companyId:companyId}});};};","map":{"version":3,"sources":["/Users/Philip/Desktop/FlatIron/Projects/Portfolio_Planner/src/redux/actionCreator.js"],"names":["backendUrl","getCompany","symbol","dispatch","apiKey","process","env","API_KEY","fetch","then","res","json","data","company","Object","type","payload","getPortfolio","map","setPortfolio","id","Name","Symbol","Industry","Country","config","method","headers","body","JSON","stringify","response","deleteCompany","companyId"],"mappings":"AAAA,GAAMA,CAAAA,UAAU,CAAG,iDAAnB,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,MAAD,CAAY,CAClC,MAAO,UAACC,QAAD,CAAc,CACjB,GAAMC,CAAAA,MAAM,CAAGC,OAAO,CAACC,GAAR,CAAYC,OAA3B,CACAC,KAAK,sEAA+DN,MAA/D,oBAAgFE,MAAhF,EAAL,CACKK,IADL,CACU,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADV,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAK,CACX,GAAMC,CAAAA,OAAO,CAAGC,MAAM,CAACF,IAAD,CAAtB,CACAT,QAAQ,CAAC,CACLY,IAAI,CAAE,aADD,CAELC,OAAO,CAAE,CACLH,OAAO,CAAEA,OADJ,CAFJ,CAAD,CAAR,CAMH,CAVL,EAWH,CAbD,CAcH,CAfM,CAiBP,MAAO,IAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAC9B,MAAO,UAACd,QAAD,CAAc,CACjBK,KAAK,WAAIR,UAAJ,eAAL,CACKS,IADL,CACU,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADV,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAK,CACXE,MAAM,CAACF,IAAD,CAAN,CAAaM,GAAb,CAAiB,SAACL,OAAD,QACbV,CAAAA,QAAQ,CAAC,CACLY,IAAI,CAAE,eADD,CAELC,OAAO,CAAE,CACLH,OAAO,CAAPA,OADK,CAFJ,CAAD,CADK,EAAjB,EAQH,CAXL,EAYH,CAbD,CAcH,CAfM,CAiBP;AACA,MAAO,IAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,OAAD,CAAa,CACrC,MAAO,UAACV,QAAD,CAAc,CACjB,GAAMS,CAAAA,IAAI,CAAG,CACTQ,EAAE,CAAEP,OAAO,CAAC,IAAD,CADF,CAETQ,IAAI,CAAER,OAAO,CAAC,MAAD,CAFJ,CAGTS,MAAM,CAAET,OAAO,CAAC,QAAD,CAHN,CAITU,QAAQ,CAAEV,OAAO,CAAC,UAAD,CAJR,CAKTW,OAAO,CAAEX,OAAO,CAAC,SAAD,CALP,CAAb,CAQA,GAAMY,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,MADG,CAEXC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,SAAU,kBAFL,CAFE,CAMXC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAelB,IAAf,CANK,CAAf,CAQA,MAAOJ,CAAAA,KAAK,WAAIR,UAAJ,eAA4ByB,MAA5B,CAAL,CACEhB,IADF,CACO,SAAAsB,QAAQ,QAAIA,CAAAA,QAAQ,CAACpB,IAAT,EAAJ,EADf,EAEEF,IAFF,CAEO,SAACG,IAAD,CAAU,CACZT,QAAQ,CAAC,CACLY,IAAI,CAAE,eADD,CAELC,OAAO,CAAE,CACLJ,IAAI,CAAJA,IADK,CAFJ,CAAD,CAAR,CAMH,CATF,CAAP,CAUH,CA3BD,CA4BH,CA7BM,CA+BP,MAAO,IAAMoB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,SAAD,CAAe,CACxC,MAAO,UAAC9B,QAAD,CAAc,CACjB,GAAMsB,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,QADG,CAAf,CAGAlB,KAAK,WAAIR,UAAJ,uBAA4BiC,SAA5B,EAAyCR,MAAzC,CAAL,CACItB,QAAQ,CAAC,CACLY,IAAI,CAAE,gBADD,CAELC,OAAO,CAAE,CACLiB,SAAS,CAATA,SADK,CAFJ,CAAD,CAAR,CAMP,CAXD,CAYH,CAbM","sourcesContent":["const backendUrl = 'https://tranquil-escarpment-33998.herokuapp.com'\n\nexport const getCompany = (symbol) => {\n    return (dispatch) => {\n        const apiKey = process.env.API_KEY;\n        fetch(`https://www.alphavantage.co/query?function=OVERVIEW&symbol=${symbol}&apikey=${apiKey}`)\n            .then((res) => res.json())\n            .then(data =>  {\n                const company = Object(data);\n                dispatch({ \n                    type: \"GET_COMPANY\",\n                    payload: { \n                        company: company\n                    },\n                })\n            })\n    }\n}\n\nexport const getPortfolio = () => {\n    return (dispatch) => {\n        fetch(`${backendUrl}/companies`)\n            .then((res) => res.json())\n            .then(data =>  {\n                Object(data).map((company) => (\n                    dispatch({ \n                        type: \"GET_PORTFOLIO\",\n                        payload: { \n                            company\n                        },\n                    })\n                ))\n            })\n    }\n}\n\n// Add companies to portfolio\nexport const setPortfolio = (company) => {\n    return (dispatch) => {\n        const data = {\n            id: company[\"id\"],\n            Name: company[\"Name\"],\n            Symbol: company[\"Symbol\"],\n            Industry: company[\"Industry\"],\n            Country: company[\"Country\"]\n        };\n\n        const config = {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n        };\n        return fetch(`${backendUrl}/companies`, config)\n                .then(response => response.json())\n                .then((data) => {\n                    dispatch({ \n                        type: \"SET_PORTFOLIO\",\n                        payload: { \n                            data\n                        },\n                    })\n                })\n    }\n}\n\nexport const deleteCompany = (companyId) => {\n    return (dispatch) => {\n        const config = {\n            method: \"DELETE\",\n        };\n        fetch(`${backendUrl}/companies/${companyId}`, config)\n            dispatch({ \n                type: \"DELETE_COMPANY\",\n                payload: { \n                    companyId\n                },\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}