{"ast":null,"code":"export const getCompany = symbol => {\n  return dispatch => {\n    const apiKey = process.env.API_KEY;\n    fetch(`https://www.alphavantage.co/query?function=OVERVIEW&symbol=${symbol}&apikey=${apiKey}`).then(res => res.json()).then(data => {\n      const company = Object(data);\n      dispatch({\n        type: \"GET_COMPANY\",\n        payload: {\n          company: company\n        }\n      });\n    });\n  };\n};\nexport const getPortfolio = () => {\n  return dispatch => {\n    fetch(`http://localhost:3000/companies`).then(res => res.json()).then(data => {\n      // console.log(Object(data))\n      Object(data).map(company => dispatch({\n        type: \"GET_PORTFOLIO\",\n        payload: {\n          company\n        }\n      }));\n    });\n  };\n}; // Add companies to portfolio\n\nexport const setPortfolio = company => {\n  return dispatch => {\n    const data = {\n      id: company[\"id\"],\n      Name: company[\"Name\"],\n      Symbol: company[\"Symbol\"],\n      Industry: company[\"Industry\"],\n      Country: company[\"Country\"]\n    };\n    const config = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    return fetch(`http://localhost:3000/companies`, config).then(response => response.json()).then(data => {\n      dispatch({\n        type: \"SET_PORTFOLIO\",\n        payload: {\n          data\n        }\n      });\n    });\n  };\n};\nexport const deleteCompany = companyId => {\n  return dispatch => {\n    const config = {\n      method: \"DELETE\"\n    };\n    fetch(`http://localhost:3000/companies/${companyId}`, config); // dispatch({ \n    //     type: \"DELETE_COMPANY\",\n    //     payload: { \n    //         companyId\n    //     },\n    // })\n  };\n}; // ({\n//     type: \"DELETE_COMPANY\",\n//     payload: {companyId}\n// })","map":{"version":3,"sources":["/Users/Philip/Desktop/FlatIron/Projects/Portfolio_Planner/frontend/src/redux/actionCreator.js"],"names":["getCompany","symbol","dispatch","apiKey","process","env","API_KEY","fetch","then","res","json","data","company","Object","type","payload","getPortfolio","map","setPortfolio","id","Name","Symbol","Industry","Country","config","method","headers","body","JSON","stringify","response","deleteCompany","companyId"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAIC,MAAD,IAAY;AAClC,SAAQC,QAAD,IAAc;AACjB,UAAMC,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYC,OAA3B;AACAC,IAAAA,KAAK,CAAE,8DAA6DN,MAAO,WAAUE,MAAO,EAAvF,CAAL,CACKK,IADL,CACWC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADnB,EAEKF,IAFL,CAEUG,IAAI,IAAK;AACX,YAAMC,OAAO,GAAGC,MAAM,CAACF,IAAD,CAAtB;AACAT,MAAAA,QAAQ,CAAC;AACLY,QAAAA,IAAI,EAAE,aADD;AAELC,QAAAA,OAAO,EAAE;AACLH,UAAAA,OAAO,EAAEA;AADJ;AAFJ,OAAD,CAAR;AAMH,KAVL;AAWH,GAbD;AAcH,CAfM;AAmBP,OAAO,MAAMI,YAAY,GAAG,MAAM;AAC9B,SAAQd,QAAD,IAAc;AACjBK,IAAAA,KAAK,CAAE,iCAAF,CAAL,CACKC,IADL,CACWC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADnB,EAEKF,IAFL,CAEUG,IAAI,IAAK;AACX;AACAE,MAAAA,MAAM,CAACF,IAAD,CAAN,CAAaM,GAAb,CAAkBL,OAAD,IACbV,QAAQ,CAAC;AACLY,QAAAA,IAAI,EAAE,eADD;AAELC,QAAAA,OAAO,EAAE;AACLH,UAAAA;AADK;AAFJ,OAAD,CADZ;AAQH,KAZL;AAaH,GAdD;AAeH,CAhBM,C,CAkBP;;AACA,OAAO,MAAMM,YAAY,GAAIN,OAAD,IAAa;AACrC,SAAQV,QAAD,IAAc;AACjB,UAAMS,IAAI,GAAG;AACTQ,MAAAA,EAAE,EAAEP,OAAO,CAAC,IAAD,CADF;AAETQ,MAAAA,IAAI,EAAER,OAAO,CAAC,MAAD,CAFJ;AAGTS,MAAAA,MAAM,EAAET,OAAO,CAAC,QAAD,CAHN;AAITU,MAAAA,QAAQ,EAAEV,OAAO,CAAC,UAAD,CAJR;AAKTW,MAAAA,OAAO,EAAEX,OAAO,CAAC,SAAD;AALP,KAAb;AAQA,UAAMY,MAAM,GAAG;AACXC,MAAAA,MAAM,EAAE,MADG;AAEXC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU;AAFL,OAFE;AAMXC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAelB,IAAf;AANK,KAAf;AAQA,WAAOJ,KAAK,CAAE,iCAAF,EAAoCiB,MAApC,CAAL,CACEhB,IADF,CACOsB,QAAQ,IAAIA,QAAQ,CAACpB,IAAT,EADnB,EAEEF,IAFF,CAEQG,IAAD,IAAU;AACZT,MAAAA,QAAQ,CAAC;AACLY,QAAAA,IAAI,EAAE,eADD;AAELC,QAAAA,OAAO,EAAE;AACLJ,UAAAA;AADK;AAFJ,OAAD,CAAR;AAMH,KATF,CAAP;AAUH,GA3BD;AA4BH,CA7BM;AA+BP,OAAO,MAAMoB,aAAa,GAAIC,SAAD,IAAe;AACxC,SAAQ9B,QAAD,IAAc;AACjB,UAAMsB,MAAM,GAAG;AACXC,MAAAA,MAAM,EAAE;AADG,KAAf;AAGAlB,IAAAA,KAAK,CAAE,mCAAkCyB,SAAU,EAA9C,EAAiDR,MAAjD,CAAL,CAJiB,CAKb;AACA;AACA;AACA;AACA;AACA;AACP,GAXD;AAYH,CAbM,C,CAkBP;AACA;AACA;AACA","sourcesContent":["export const getCompany = (symbol) => {\n    return (dispatch) => {\n        const apiKey = process.env.API_KEY;\n        fetch(`https://www.alphavantage.co/query?function=OVERVIEW&symbol=${symbol}&apikey=${apiKey}`)\n            .then((res) => res.json())\n            .then(data =>  {\n                const company = Object(data);\n                dispatch({ \n                    type: \"GET_COMPANY\",\n                    payload: { \n                        company: company\n                    },\n                })\n            })\n    }\n}\n\n\n\nexport const getPortfolio = () => {\n    return (dispatch) => {\n        fetch(`http://localhost:3000/companies`)\n            .then((res) => res.json())\n            .then(data =>  {\n                // console.log(Object(data))\n                Object(data).map((company) => (\n                    dispatch({ \n                        type: \"GET_PORTFOLIO\",\n                        payload: { \n                            company\n                        },\n                    })\n                ))\n            })\n    }\n}\n\n// Add companies to portfolio\nexport const setPortfolio = (company) => {\n    return (dispatch) => {\n        const data = {\n            id: company[\"id\"],\n            Name: company[\"Name\"],\n            Symbol: company[\"Symbol\"],\n            Industry: company[\"Industry\"],\n            Country: company[\"Country\"]\n        };\n\n        const config = {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n        };\n        return fetch(`http://localhost:3000/companies`, config)\n                .then(response => response.json())\n                .then((data) => {\n                    dispatch({ \n                        type: \"SET_PORTFOLIO\",\n                        payload: { \n                            data\n                        },\n                    })\n                })\n    }\n}\n\nexport const deleteCompany = (companyId) => {\n    return (dispatch) => {\n        const config = {\n            method: \"DELETE\",\n        };\n        fetch(`http://localhost:3000/companies/${companyId}`, config)\n            // dispatch({ \n            //     type: \"DELETE_COMPANY\",\n            //     payload: { \n            //         companyId\n            //     },\n            // })\n    }\n}\n\n\n\n\n// ({\n//     type: \"DELETE_COMPANY\",\n//     payload: {companyId}\n// })\n"]},"metadata":{},"sourceType":"module"}